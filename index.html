<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geo's DB</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        body {
            font-family: "MS Gothic", "Osaka-mono", monospace;
            background-color: #f8f8f8;
            color: #333;
            line-height: 1.4;
            overflow-x: hidden;
        }

        header {
            background-color: #333;
            color: #fff;
            padding: 10px 20px;
            text-align: center;
            border-bottom: 3px solid #666;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            flex-grow: 1;
        }

        .cluster-container {
            display: flex;
            flex-direction: row;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 20px;
        }

        @media (max-width: 768px) {
            .cluster-container {
                flex-direction: column;
            }

            .cluster {
                width: 100%;
                max-width: 100%;
            }

            .header-icon {
                width: 48%;
            }
        }

        .category-section {
            margin-bottom: 30px;
        }

        .category-header {
            margin-top: 10px;
            margin-bottom: 15px;
            padding-bottom: 5px;
            border-bottom: 2px solid #333;
        }

        .subcategories-container {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
        }

        .cluster {
            background-color: #fff;
            border: 1px solid #ddd;
            padding: 10px;
            border-radius: 5px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            transition: all 0.2s ease;
            overflow-wrap: break-word;
        }

        .cluster:hover {
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.2);
            transform: translateY(-2px);
        }

        .cluster h3 {
            margin-top: 0;
            padding-bottom: 5px;
            border-bottom: 2px dotted #ddd;
            font-size: 16px;
        }

        .file-list {
            list-style-type: none;
            padding-left: 0;
            margin: 0;
        }

        .file-list li {
            margin-bottom: 5px;
            font-size: 13px;
            line-height: 1.3;
        }

        .file-list li a {
            color: #0066cc;
            text-decoration: none;
            display: block;
            padding: 4px 6px;
            background-color: #f8f8f8;
            border-radius: 3px;
            transition: all 0.1s ease;
            border-left: 3px solid transparent;
            overflow-wrap: break-word;
        }

        .file-list li a:hover {
            background-color: #e6f0ff;
            border-left: 3px solid #0066cc;
            padding-left: 8px;
        }

        .file-list li a::before {
            content: "üìÑ ";
            margin-right: 5px;
        }

        .category-nav {
            margin-bottom: 20px;
            padding: 10px;
            background-color: #eee;
            text-align: center;
            border-radius: 5px;
            font-size: 14px;
        }

        .category-nav a {
            display: inline-block;
            padding: 5px 10px;
            color: #333;
            text-decoration: none;
            margin: 0 5px;
            border-radius: 3px;
        }

        .category-nav a:hover {
            background-color: #ddd;
        }

        .file-count {
            font-size: 11px;
            color: #777;
            margin-left: 5px;
        }

        footer {
            text-align: center;
            margin-top: 30px;
            padding: 10px;
            color: #777;
            font-size: 12px;
            border-top: 1px solid #ddd;
            position: relative;
            bottom: 0;
            width: 100%;
            margin-top: auto;
        }

        @media (max-width: 768px) {
            .subcategories-container {
                display: flex;
                flex-wrap: wrap;
                gap: 15px;
                flex-direction: column;
            }

            .cluster {
                width: 100%;
                max-width: 100%;
                margin: 0;
            }

            .header-icon {
                width: 48%;
            }
        }

        .header-icon {
            width: 48%;
            max-width: 50px;
            height: auto;
            vertical-align: middle;
            margin-right: 10px;
        }
    </style>
</head>

<body>
    <header>
        <h1>
            <img src="ico.png" alt="ico" class="header-icon">
            Geo's DB <span style="white-space: nowrap;">(Êï∞ÊçÆÂ∫ì)</span>
        </h1>
        <p>Bunch of useful files.</p>
    </header>

    <div class="container">
        <div class="category-nav" id="category-nav">
        </div>

        <div class="cluster-container" id="cluster-container">
        </div>
    </div>

    <footer>
        <p>¬© 2025 Geo's DB | Last updated: March 21, 2025</p>
        <p>If you have anything to contribute, please submit a PR to my <a href="https://github.com/kingjuno/data-server" target="_blank">GitHub repo</a>.</p>
    </footer>

    <script>
        const files = [
            { name: "Go 9x9 (8607) games", categories: ["Baduk", "Go Games"], path: "/data-server/files/go_dataset/go9.tgz" },
            { name: "Go 13x13 (9410) games", categories: ["Baduk", "Go Games"], path: "/data-server/files/go_dataset/go13.tgz" },
            { name: "Go 9x9 (49895) games", categories: ["Baduk", "Go Games"], path: "/data-server/files/go_dataset/go9-large.tgz" },
            { name: "Go 13x13 (44881) games", categories: ["Baduk", "Go Games"], path: "/data-server/files/go_dataset/go13-large.tgz" },
            { name: "Simple Notification", categories: ["Clidoro"], path: "/data-server/files/clidoro/simple-notification.mp3" },
            { name: "Get Strong at Attacking.zip", categories: ["Baduk", "Tsumego"], path: "/data-server/files/go_dataset/Get strong at attaking.zip" },
            { name: "Get Strong at Handicap GO.zip", categories: ["Baduk", "Tsumego"], path: "/data-server/files/go_dataset/Get strong at handicap Go.zip" },
            { name: "Get Strong at Invading.zip", categories: ["Baduk", "Tsumego"], path: "/data-server/files/go_dataset/Get strong at invading.zip" },
            { name: "Get Strong at the Opening.zip", categories: ["Baduk", "Tsumego"], path: "/data-server/files/go_dataset/Get strong at the opening.zip" },
            { name: "Sabaki.zip", categories: ["Baduk", "Tsumego"], path: "/data-server/files/sabaki/Sabaki.zip" },
        ];

        const categories = [...new Set(files.flatMap(file => file.categories))];
        const categoryNav = document.getElementById('category-nav');
        categories.forEach(category => {
            const link = document.createElement('a');
            link.href = `#${category.toLowerCase()}`;
            link.textContent = category;
            link.dataset.category = category;
            categoryNav.appendChild(link);
        });

        function generateClusters(category) {
            const clusterContainer = document.getElementById('cluster-container');
            clusterContainer.innerHTML = '';

            const categorySection = document.createElement('div');
            categorySection.className = 'category-section';
            
            const categoryHeader = document.createElement('h2');
            categoryHeader.textContent = category;
            categoryHeader.id = category.toLowerCase();
            categoryHeader.className = 'category-header';
            categorySection.appendChild(categoryHeader);

            const subcategoriesContainer = document.createElement('div');
            subcategoriesContainer.className = 'subcategories-container';
            categorySection.appendChild(subcategoriesContainer);

            const subcategories = [...new Set(files
                .filter(file => file.categories.includes(category))
                .map(file => {
                    if (file.categories[0] === category && file.categories.length > 1) {
                        return file.categories[1];
                    } else if (file.categories[1] === category && file.categories.length > 1) {
                        return file.categories[0];
                    } else {
                        return "General";
                    }
                }))];

            subcategories.forEach(subcategory => {
                const clusterDiv = document.createElement('div');
                clusterDiv.className = 'cluster';

                const clusterTitle = document.createElement('h3');
                clusterTitle.textContent = subcategory;

                const fileList = document.createElement('ul');
                fileList.className = 'file-list';

                files.filter(file => {
                    const isInCategory = file.categories.includes(category);
                    const matchesSubcategory = file.categories.includes(subcategory);
                    return isInCategory && (matchesSubcategory || (!file.categories[1] && subcategory === "General"));
                }).forEach(file => {
                    const listItem = document.createElement('li');
                    const link = document.createElement('a');
                    link.href = file.path;
                    link.textContent = file.name;
                    listItem.appendChild(link);
                    fileList.appendChild(listItem);
                });

                clusterDiv.appendChild(clusterTitle);
                clusterDiv.appendChild(fileList);
                subcategoriesContainer.appendChild(clusterDiv);
            });

            clusterContainer.appendChild(categorySection);
        }

        generateClusters(categories[0]);

        const categoryLinks = document.querySelectorAll('.category-nav a');
        categoryLinks.forEach(link => {
            link.addEventListener('click', function (e) {
                e.preventDefault();
                const selectedCategory = this.dataset.category;

                categoryLinks.forEach(l => l.style.fontWeight = 'normal');
                this.style.fontWeight = 'bold';

                generateClusters(selectedCategory);
            });
        });

        categoryLinks[0].style.fontWeight = 'bold';
    </script>
</body>

</html>